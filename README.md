# CyberLife
![cover](assets/cover.png)

<p align="center">
  <a href="https://github.com/ZHymLumine/CyberLife/stargazers"><img src="https://img.shields.io/github/stars/ZHymLumine/CyberLife?color=cd7373&amp;logo=github&amp;style=for-the-badge" alt="Github stars"></a>
  <img src="https://img.shields.io/badge/Python-3.10.10-blue?style=for-the-badge&logo=Python&logoColor=white&color=cd7373" alt="Python">
  <a href="./LICENSE"><img src="https://img.shields.io/github/license/Syan-Lin/CyberWaifu?&amp;color=cd7373&amp;style=for-the-badge" alt="License"></a>
</p>


---

### ä»‹ç»ğŸ”

CyberLife æ˜¯ä¸€ä¸ªä½¿ç”¨ LLM å’Œ TTS å®ç°çš„èŠå¤©æœºå™¨äººï¼Œæ¢ç´¢çœŸå®çš„èŠå¤©ä½“éªŒã€‚

è¯¥é¡¹ç›®ä½¿ç”¨ [LangChain](https://github.com/hwchase17/langchain) ä½œä¸º LLM ä¸»ä½“æ¡†æ¶ï¼ŒTTS æ”¯æŒ vitsã€[edge-tts](https://github.com/rany2/edge-tts)ã€‚

è¯­è¨€æ¨¡å‹æ”¯æŒï¼š
- ChatGPT
- Claude

### åŠŸèƒ½

âœ… é¢„å®šä¹‰çš„æ€è€ƒé“¾ï¼šä½¿ AI å¯ä»¥è¿›è¡Œä¸€å®šçš„é€»è¾‘æ€è€ƒï¼Œè¿›è¡Œå†³ç­–ã€‚ä¾‹å¦‚åœ¨æ–‡æœ¬ä¸­æ·»åŠ  Emojiã€å‘é€è¡¨æƒ…åŒ…ç­‰ç­‰ã€‚

âœ… æœ¬åœ°è®°å¿†æ•°æ®åº“ï¼šè‡ªåŠ¨æ€»ç»“å¯¹è¯å†…å®¹å¹¶å¯¼å…¥è®°å¿†æ•°æ®åº“ï¼Œæ ¹æ®ç”¨æˆ·çš„æé—®å¼•å…¥ä¸Šä¸‹æ–‡ï¼Œä»è€Œå®ç°é•¿æ—¶è®°å¿†ã€‚åŒæ—¶æ”¯æŒæ‰¹é‡å¯¼å…¥è®°å¿†ï¼Œä½¿äººè®¾æ›´ä¸°å¯Œã€çœŸå®å’Œå¯æ§ã€‚

âœ… å‘é‡æ•°æ®åº“:æ€»ç»“çš„å¯¹è¯å†…å®¹ä¸Šä¼ åˆ°Pineconeæ•°æ®åº“

âœ… ç°å®æ„ŸçŸ¥ï¼šAI å¯ä»¥æ„ŸçŸ¥ç°å®çš„æ—¶é—´å¹¶æ¨¡æ‹Ÿè‡ªå·±çš„çŠ¶æ€å’Œè¡Œä¸ºï¼Œä¾‹å¦‚æ™šä¸Šä¼šåœ¨ç¡è§‰ã€ç”¨æˆ·éš”å¾ˆä¹…å›å¤ä¼šæœ‰ç›¸åº”åé¦ˆï¼ˆè¿™éƒ¨åˆ†è¡¨ç°æš‚æ—¶ä¸ç¨³å®šï¼‰ã€‚

âœ… è”ç½‘æœç´¢ï¼šæ ¹æ®ç”¨æˆ·çš„ä¿¡æ¯ï¼Œè‡ªä¸»æ„é€ æœç´¢å†³ç­–ï¼Œå¹¶å¼•å…¥ä¸Šä¸‹æ–‡ã€‚

âœ… äººè®¾æ¨¡æ¿ã€è‡ªå®šä¹‰äººè®¾

âœ… edge-tts, azure è¯­éŸ³æœåŠ¡æ”¯æŒ
  
â¬œ vits, emotion-vits æ”¯æŒ

â¬œ live2d æ”¯æŒ

â¬œ  GUI æ”¯æŒ

â¬œ å¤šè¯­è¨€æ–‡æœ¬è¯­éŸ³è¾“å…¥è¾“å‡ºæ”¯æŒ

â¬œ  æœºå™¨äººéƒ¨ç½²

â¬œ  è¡¨æƒ…æ”¯æŒ

â¬œ AI ç»˜å›¾æ”¯æŒï¼Œå°†ç»˜å›¾å¼•å…¥æ€è€ƒé“¾ï¼Œä½¿ AI å¯ä»¥ç”Ÿæˆå›¾ç‰‡ï¼Œä¾‹å¦‚ AI è‡ªæ‹

### å®‰è£…ğŸ’»

Python ç‰ˆæœ¬ï¼š3.10.10

ä½¿ç”¨ conda:
```powershell
git clone https://github.com/ZHymLumine/CyberLife.git
cd CyberLife
conda create --name CyberLife python=3.10.10
conda activate CyberLife
pip install -r requirements.txt
```

#### ffmpeg å®‰è£…
ä¸ºäº†æ”¯æŒä»»æ„æ ¼å¼çš„è¯­éŸ³å‘é€éœ€å®‰è£…ffmpeg

Mac: [Install ffmpeg on Mac OSX](https://macappstore.org/ffmpeg/) æˆ–ç›´æ¥åœ¨terminalæ‰§è¡Œ
```
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
echo 'eval "$(/opt/homebrew/bin/brew shellenv)"' >> ~/.zprofile
brew install ffmpeg
```

Windows: [Download FFmpeg](https://ffmpeg.org/download.html#build-windows)

#### è®°å¿†æ•°æ®åº“å‘é‡è®¡ç®—æ¨¡å‹
ä¸ºäº†æ”¯æŒæœ¬åœ°çš„æ–‡æœ¬å‘é‡è®¡ç®—ï¼Œéœ€è¦å¼•å…¥ text embedding æ¨¡å‹ï¼Œè¿™é‡Œä½¿ç”¨ [Sentence Transformer](https://github.com/UKPLab/sentence-transformers)

é¦–å…ˆ [ä¸‹è½½æ¨¡å‹](https://public.ukp.informatik.tu-darmstadt.de/reimers/sentence-transformers/v0.2/paraphrase-multilingual-MiniLM-L12-v2.zip)ï¼Œç„¶åè§£å‹åˆ°æ ¹ç›®å½•çš„ `st_model` æ–‡ä»¶å¤¹ï¼Œå¦‚æœä¸å­˜åœ¨è¯·æ‰‹åŠ¨åˆ›å»º

### é…ç½®âœï¸

æŒ‰ç…§ `template.ini` è¿›è¡Œé…ç½®ï¼Œé…ç½®å®Œæˆåæ”¹åä¸º `config.ini`

#### å¤§è¯­è¨€æ¨¡å‹é…ç½®

- OpenAIï¼šéœ€è¦é…ç½® `openai_key`ï¼Œ
- Claudeï¼šéœ€è¦é…ç½® `user_oauth_token` å’Œ `bot_id`ï¼Œå…·ä½“å‚è€ƒ [Claude API æ¥å…¥æ•™ç¨‹](https://juejin.cn/post/7230366377705472060)

#### Pinecone
ç”±äºå…è´¹ç‰ˆåªæ”¯æŒidå­—æ®µä¸ºASCIIç¼–ç çš„å‘é‡æ’å…¥ï¼Œéœ€è¦å°†æ€»ç»“åçš„å¯¹è¯ç¿»è¯‘æˆè‹±æ–‡ã€‚ä½¿ç”¨promptè®©å¤§è¯­è¨€æ¨¡å‹ç¿»è¯‘ï¼ˆè¿™éƒ¨åˆ†åœ¨ä½¿ç”¨ChatGPTå®éªŒæ—¶ä¸èƒ½ç¨³å®šåœ°ç¿»è¯‘æˆè‹±æ–‡ï¼‰
æ‰€ä»¥æˆ‘ä»¬é€‰æ‹©è°ƒç”¨ç™¾åº¦ç¿»è¯‘çš„apiï¼Œå…·ä½“å‚è€ƒ [ç™¾åº¦ç¿»è¯‘APIå®˜æ–¹æ¥å…¥æ–‡æ¡£](https://fanyi-api.baidu.com/doc/13)
åœ¨config.inié…ç½®appidå’Œsecret keyã€‚

#### äººè®¾ Prompt é…ç½®
æ ¹æ® `presets/charactor/æ¨¡æ¿.txt` è¿›è¡Œç¼–å†™ï¼Œå°†ç¼–å†™å¥½çš„äººè®¾ Prompt ä¸¢åˆ° `presets/charactor` ç›®å½•ä¸‹å³å¯ï¼Œéšååœ¨ `config.ini` é…ç½®æ–‡ä»¶ä¸­çš„ `charactor` å­—æ®µå¡«å†™æ–‡ä»¶åï¼ˆä¸åŒ…å«åç¼€åï¼‰

è®°å¿†è®¾å®šåŒæ ·æ˜¯ä¸¢åˆ° `presets/charactor` ç›®å½•ä¸‹ï¼Œå¤šæ®µè®°å¿†ç”¨ç©ºè¡Œåˆ†å¼€ï¼Œå¹¶åœ¨é…ç½®æ–‡ä»¶ä¸­å¡«å†™ `memory` å­—æ®µ

#### è”ç½‘æœç´¢é…ç½®
åœ¨ [Google Serper](https://serper.dev/) ä¸­æ³¨å†Œå¹¶åˆ›å»ºä¸€ä¸ª API keyï¼Œåœ¨ `config.ini` ä¸­é…ç½®å¹¶å¼€å¯å³å¯ã€‚Google Serper å¯ä»¥å…è´¹ä½¿ç”¨ 1000 æ¬¡è°ƒç”¨ï¼Œå®æµ‹å¯ä»¥ä½¿ç”¨å¾ˆä¹…ã€‚

ç”±äºä¸Šä¸‹æ–‡é•¿åº¦çš„é™åˆ¶ï¼Œç›®å‰æœç´¢å¼•å…¥çš„å†…å®¹å¹¶ä¸å¤šï¼Œåªèƒ½è·å–ç®€å•çš„äº‹å®ä¿¡æ¯ã€‚

### ä½¿ç”¨ğŸ‰
è¿è¡Œ `main.py` å³å¯

```powershell
conda activate CyberLife
python main.py
```

### é¸£è°¢
- CyberWaifu(https://github.com/Syan-Lin/CyberWaifu)
